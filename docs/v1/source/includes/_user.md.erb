# User

## Get all users


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/users`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------


### Query String

Parameter | Description | Required
--------- | ----------- | --------
page | Number of page | false
per_page | Number of users per age | false
name | Name or email of searched users | false
roles | Array of roles of searched users | false
active | The collection contains the scope of activated, deactivated users | false

### HTTP request method

`GET`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body


### Note

You can add query string with key:

* `roles[]` with one role. If you would like to get many roles just multiple same key `roles[]` and assign a different value to it. Example: `roles[]=guest&roles[]=participant`;

* `active` as a single query string with `true` or `false` values. You can also add `active[]` as a an array as in example above. For instance `active[]=true&active[]=false`.


> HTTP example request

```http
GET <%= ENV['APP_HOSTNAME'] %>/v1/users
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```


> HTTP response 200 OK


## Show user


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/users/:id`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------
id | User ID | yes


### Query String

Parameter | Description | Required
--------- | ----------- | --------


### HTTP request method

`GET`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body


### Note


> HTTP example request

```http
GET <%= ENV['APP_HOSTNAME'] %>/v1/users/1
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```


> HTTP response 200 OK


## Update user


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/users/:id`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------
id | User ID | yes


### Query String

Parameter | Description | Required
--------- | ----------- | --------


### HTTP request method

`PATCH`, `PUT`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body

{
	"user": {
		"first_name": "user example first name"
	}
}


### Note

You can add an address to the user by providing data for `address_attributes` key following keys:

 * `name`;
 * `country`;
 * `state`;
 * `state_abbreviation`;
 * `city`;
 * `zip_code`;
 * `street`;
 * `building_address`;
 * `apartment_number`.


> HTTP example request

```http
PATCH <%= ENV['APP_HOSTNAME'] %>/v1/users/1
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```

```json
{
  "user": {
    "first_name": "John",
    "last_name": "Kowalski"
  }
}
```


> HTTP response 200 OK


## Update user email


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/auth`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------


### Query String

Parameter | Description | Required
--------- | ----------- | --------


### HTTP request method

`PATCH`, `PUT`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body

{
	"email": "user@example.com",
	"current_password": "SomeCurrentPassword"
}


### Note


> HTTP example request

```http
PATCH <%= ENV['APP_HOSTNAME'] %>/v1/auth
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```

```json
{
  "email": "new-email@example.com",
	"current_password": "MyCurrentPassword"
}
```


> HTTP response 200 OK


## Update user password


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/auth/password`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------


### Query String

Parameter | Description | Required
--------- | ----------- | --------


### HTTP request method

`PATCH`, `PUT`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body

{
	"current_password": "SomeCurrentPassword",
  "password": "NewPassword",
  "password_confirmation": "NewPassword"
}


### Note


> HTTP example request

```http
PATCH <%= ENV['APP_HOSTNAME'] %>/v1/auth/password
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```

```json
{
	"current_password": "MyCurrentPassword",
  "password": "MyNewPassword",
  "password_confirmation": "MyNewPassword"
}
```


> HTTP response 200 OK

## Destroy user


### Resource

`<%= ENV['APP_HOSTNAME'] %>/v1/users/:id`


### URL parameters

Parameter | Description | Required
--------- | ----------- | --------
id | User ID | yes


### Query String

Parameter | Description | Required
--------- | ----------- | --------


### HTTP request method

`DELETE`


### HTTP headers

<%= partial 'includes/http/headers/auth' %>


### HTTP body


### Note


> HTTP example request

```http
DELETE <%= ENV['APP_HOSTNAME'] %>/v1/users/1
```

```http
Content-Type: application/json; charset=utf-8
access-token: xxxyyyzzz
token-type: Bearer
client: xxxyyyzzz
uid: user@<%= ENV['DOMAIN_NAME'] %>
```

> HTTP response 200 OK

